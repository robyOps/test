:root{
  --bg:255 255 255;--fg:15 23 42;--muted:100 116 139;
  --brand:59 130 246;--ok:5 150 105;--warn:245 158 11;--err:239 68 68;
  --radius:1rem
}
.dark{
  --bg:2 6 23;--fg:226 232 240;--muted:148 163 184;--brand:96 165 250
}
html{font-size:clamp(14px,1.05vw,16px)}
body{background-color:rgb(var(--bg));color:rgb(var(--fg));}

.card{border:1px solid rgba(148,163,184,.25);border-radius:var(--radius);
  background:rgba(255,255,255,.75);backdrop-filter:saturate(140%) blur(6px);
  box-shadow:0 1px 2px rgba(0,0,0,.04)}
.dark .card{background:rgba(2,6,23,.6)}

.btn{display:inline-flex;gap:.5rem;align-items:center;font-weight:600;
  padding:.5rem 1rem;border:1px solid rgba(148,163,184,.35);
  border-radius:calc(var(--radius) - .25rem);transition:transform .06s ease}
.btn:active{transform:translateY(1px)}
.btn-primary{border-color:transparent;background:rgb(var(--brand));color:#fff}
.btn-ghost{border-color:transparent;background:transparent}

.input{width:100%;border:1px solid rgba(148,163,184,.45);background:#fff;
  border-radius:calc(var(--radius) - .25rem);padding:.5rem .75rem}
.input:focus{outline:2px solid rgba(59,130,246,.25);outline-offset:2px}
.dark .input{background:rgba(255,255,255,.03)}

.table{width:100%;border-collapse:separate;border-spacing:0}
.table tr:nth-child(odd){background:rgba(148,163,184,.08)}
.dark .table tr:nth-child(odd){background:rgba(255,255,255,.04)}
.table tr:hover{background:rgba(148,163,184,.14)}
.th{font-weight:600;color:rgb(var(--muted));text-align:left;padding:.75rem}
.td{padding:.75rem;border-top:1px solid rgba(148,163,184,.25)}

.chip{display:inline-flex;gap:.375rem;align-items:center;font-size:.75rem;
  padding:.25rem .5rem;border-radius:999px}
.chip-ok{background:rgba(5,150,105,.15);color:rgb(5,150,105)}
.chip-warn{background:rgba(245,158,11,.18);color:rgb(245,158,11)}
.chip-err{background:rgba(239,68,68,.15);color:rgb(239,68,68)}

header.site{
  position:sticky;top:0;z-index:50;backdrop-filter:blur(8px);
  border-bottom:1px solid rgba(255,255,255,.2);
  background:rgba(255,255,255,.7)
}
.dark header.site{background:rgba(2,6,23,.6)}

.toast-wrap{position:fixed;top:1rem;right:1rem;display:grid;gap:.5rem}
.toast{padding:.75rem 1rem}.toast-info{background:rgba(59,130,246,.15)}
.toast-ok{background:rgba(5,150,105,.15)}.toast-warn{background:rgba(245,158,11,.18)}
.toast-err{background:rgba(239,68,68,.15)}
/* Normaliza elementos nativos */
:where(html,body){min-height:100%}
:where(p,h1,h2,h3,h4,h5,h6){margin:0}
:where(ul,ol){margin:0;padding:0;list-style:none}
:where(button,input,select,textarea){font:inherit;color:inherit}
:where(button){background:none;border:0;cursor:pointer}
:where(fieldset){margin:0;padding:0;border:0}
:where(table){border-collapse:collapse;width:100%}

/* Estado de carga */
[aria-busy="true"]{cursor:progress}
[aria-busy="true"]>*{pointer-events:none;opacity:.6}

/* ImpresiÃ³n */
@media print{
  body{background:#fff;color:#000}
  header.site,.toast-wrap,nav,.btn{display:none!important}
  a[href]::after{content:" (" attr(href) ")";font-size:.75em}
}
/* Stats / Cards (opt-in) */
.stat-grid{
  display:grid;
  gap:1.25rem;
  grid-template-columns:repeat(auto-fit,minmax(16rem,1fr));
  align-items:stretch;
}

.stat-grid>.stat-card{height:100%}

.stat-card{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:1rem;
  padding:1.25rem;
  border:1px solid rgba(148,163,184,.25);
  border-radius:var(--radius);
  background:rgba(255,255,255,.72);
  box-shadow:0 20px 45px -25px rgba(15,23,42,.35);
  transition:transform .25s ease,box-shadow .25s ease;
}

.stat-card:hover{
  transform:translateY(-2px);
  box-shadow:0 24px 55px -25px rgba(15,23,42,.45);
}

.dark .stat-card{background:rgba(15,23,42,.55);border-color:rgba(148,163,184,.35);box-shadow:0 20px 45px -30px rgba(15,23,42,.9)}

.stat-card .stat-shell{display:flex;flex-direction:column;gap:1rem;min-height:100%}

.stat-card .stat-head{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem}

.stat-card .k{font-size:.75rem;font-weight:700;letter-spacing:.18em;text-transform:uppercase;color:rgb(var(--muted));}

.stat-card .stat-badge{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.25rem .65rem;
  font-size:.75rem;
  font-weight:600;
  line-height:1;
  border-radius:999px;
  background:rgba(148,163,184,.18);
  color:rgb(var(--fg));
  white-space:nowrap;
}

.stat-card .stat-badge-ok{background:rgba(5,150,105,.18);color:rgb(5,150,105)}
.stat-card .stat-badge-warn{background:rgba(245,158,11,.18);color:rgb(245,158,11)}
.stat-card .stat-badge-err{background:rgba(239,68,68,.18);color:rgb(239,68,68)}
.stat-card .stat-badge-info{background:rgba(59,130,246,.18);color:rgb(59,130,246)}
.stat-card .stat-badge-neutral{background:rgba(148,163,184,.18);color:rgb(100,116,139)}

.stat-card .stat-value-row{display:flex;flex-wrap:wrap;align-items:baseline;gap:.6rem}

.stat-card .v{font-size:clamp(1.85rem,2vw + 1rem,2.75rem);font-weight:700;line-height:1.05;letter-spacing:-.01em}

.stat-card .delta{display:inline-flex;align-items:center;gap:.35rem;font-weight:600;font-size:.9rem;white-space:nowrap}
.stat-card .delta-positive{color:rgb(5,150,105)}
.stat-card .delta-negative{color:rgb(239,68,68)}
.stat-card .delta-neutral{color:rgb(var(--muted))}

.stat-card .stat-progress{display:flex;flex-direction:column;gap:.4rem}

.stat-card .stat-progress-track{
  position:relative;
  width:100%;
  height:.55rem;
  border-radius:999px;
  background:linear-gradient(90deg,rgba(148,163,184,.18),rgba(148,163,184,.12));
  overflow:hidden;
}

.stat-card .stat-progress-bar{
  position:absolute;
  inset:0 auto 0 0;
  width:0;
  max-width:100%;
  background:linear-gradient(135deg,rgba(59,130,246,.9),rgba(96,165,250,.9));
  border-radius:inherit;
  transition:width .6s cubic-bezier(.4,0,.2,1);
}

.dark .stat-card .stat-progress-track{background:linear-gradient(90deg,rgba(148,163,184,.25),rgba(148,163,184,.18))}
.dark .stat-card .stat-progress-bar{background:linear-gradient(135deg,rgba(59,130,246,.75),rgba(37,99,235,.85))}

.stat-card .stat-progress-value{font-size:.8rem;font-weight:600;color:rgb(var(--muted))}

.stat-card .stat-foot{display:flex;flex-direction:column;gap:.75rem}

.stat-card .stat-sparkline{width:100%;height:3rem;display:block}
.stat-card .stat-sparkline path{fill:rgba(59,130,246,.18)}
.stat-card .stat-sparkline polyline{fill:none;stroke:rgba(59,130,246,.85);stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}

.dark .stat-card .stat-sparkline path{fill:rgba(59,130,246,.12)}
.dark .stat-card .stat-sparkline polyline{stroke:rgba(96,165,250,.85)}

.stat-card .stat-extra{margin-top:1rem;color:inherit;font-size:.85rem;opacity:.85}
